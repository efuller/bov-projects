!function(e){function t(e){delete installedChunks[e]}function n(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+e+"."+y+".hot-update.js",t.appendChild(n)}function r(){return new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var n=new XMLHttpRequest,r=p.p+""+y+".hot-update.json";n.open("GET",r,!0),n.timeout=1e4,n.send(null)}catch(e){return t(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)t(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)t(new Error("Manifest request to "+r+" failed."));else{try{var o=JSON.parse(n.responseText)}catch(e){return void t(e)}e(o)}}})}function o(e){var t=M[e];if(!t)return p;var n=function(n){return t.hot.active?(M[n]?M[n].parents.indexOf(e)<0&&M[n].parents.push(e):w=[e],t.children.indexOf(n)<0&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),w=[]),j=!1,p(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return p[e]},set:function(t){p[e]=t}}};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&Object.defineProperty(n,o,r(o));return Object.defineProperty(n,"e",{enumerable:!0,value:function(e){function t(){T--,"prepare"===k&&(P[e]||d(e),0===T&&0===E&&u())}return"ready"===k&&i("prepare"),T++,p.e(e).then(t,function(e){throw t(),e})}}),n}function a(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:j,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:s,apply:f,status:function(e){if(!e)return k;O.push(e)},addStatusHandler:function(e){O.push(e)},removeStatusHandler:function(e){var t=O.indexOf(e);t>=0&&O.splice(t,1)},data:_[e]};return j=!0,t}function i(e){k=e;for(var t=0;t<O.length;t++)O[t].call(null,e)}function c(e){return+e+""===e?+e:e}function s(e){if("idle"!==k)throw new Error("check() is only allowed in idle status");return g=e,i("check"),r().then(function(e){if(!e)return i("idle"),null;A={},P={},x=e.c,b=e.h,i("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});return v={},d(0),"prepare"===k&&0===T&&0===E&&u(),t})}function l(e,t){if(x[e]&&A[e]){A[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--E&&0===T&&u()}}function d(e){x[e]?(A[e]=!0,E++,n(e)):P[e]=!0}function u(){i("ready");var e=h;if(h=null,e)if(g)f(g).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(c(n));e.resolve(t)}}function f(n){function r(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var a=r.pop(),i=a.id,c=a.chain;if((d=M[i])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(d.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var s=0;s<d.parents.length;s++){var l=d.parents[s],u=M[l];if(u){if(u.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([l]),moduleId:i,parentId:l};t.indexOf(l)>=0||(u.hot._acceptedDependencies[i]?(n[l]||(n[l]=[]),o(n[l],[i])):(delete n[l],t.push(l),r.push({chain:c.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==k)throw new Error("apply() is only allowed in ready status");n=n||{};var a,s,l,d,u,f={},m=[],h={},g=function(){console.warn("[HMR] unexpected require("+D.moduleId+") to disposed module")};for(var j in v)if(Object.prototype.hasOwnProperty.call(v,j)){u=c(j);var D;D=v[j]?r(u):{type:"disposed",moduleId:j};var O=!1,E=!1,T=!1,P="";switch(D.chain&&(P="\nUpdate propagation: "+D.chain.join(" -> ")),D.type){case"self-declined":n.onDeclined&&n.onDeclined(D),n.ignoreDeclined||(O=new Error("Aborted because of self decline: "+D.moduleId+P));break;case"declined":n.onDeclined&&n.onDeclined(D),n.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+D.moduleId+" in "+D.parentId+P));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(D),n.ignoreUnaccepted||(O=new Error("Aborted because "+u+" is not accepted"+P));break;case"accepted":n.onAccepted&&n.onAccepted(D),E=!0;break;case"disposed":n.onDisposed&&n.onDisposed(D),T=!0;break;default:throw new Error("Unexception type "+D.type)}if(O)return i("abort"),Promise.reject(O);if(E){h[u]=v[u],o(m,D.outdatedModules);for(u in D.outdatedDependencies)Object.prototype.hasOwnProperty.call(D.outdatedDependencies,u)&&(f[u]||(f[u]=[]),o(f[u],D.outdatedDependencies[u]))}T&&(o(m,[D.moduleId]),h[u]=g)}var A=[];for(s=0;s<m.length;s++)u=m[s],M[u]&&M[u].hot._selfAccepted&&A.push({module:u,errorHandler:M[u].hot._selfAccepted});i("dispose"),Object.keys(x).forEach(function(e){x[e]===!1&&t(e)});for(var I,H=m.slice();H.length>0;)if(u=H.pop(),d=M[u]){var C={},L=d.hot._disposeHandlers;for(l=0;l<L.length;l++)(a=L[l])(C);for(_[u]=C,d.hot.active=!1,delete M[u],l=0;l<d.children.length;l++){var S=M[d.children[l]];S&&((I=S.parents.indexOf(u))>=0&&S.parents.splice(I,1))}}var B,q;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(d=M[u]))for(q=f[u],l=0;l<q.length;l++)B=q[l],(I=d.children.indexOf(B))>=0&&d.children.splice(I,1);i("apply"),y=b;for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&(e[u]=h[u]);var N=null;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)){d=M[u],q=f[u];var U=[];for(s=0;s<q.length;s++)B=q[s],a=d.hot._acceptedDependencies[B],U.indexOf(a)>=0||U.push(a);for(s=0;s<U.length;s++){a=U[s];try{a(q)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:u,dependencyId:q[s],error:e}),n.ignoreErrored||N||(N=e)}}}for(s=0;s<A.length;s++){var R=A[s];u=R.module,w=[u];try{p(u)}catch(e){if("function"==typeof R.errorHandler)try{R.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:t,orginalError:e}),n.ignoreErrored||N||(N=t),N||(N=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:u,error:e}),n.ignoreErrored||N||(N=e)}}return N?(i("fail"),Promise.reject(N)):(i("idle"),Promise.resolve(m))}function p(t){if(M[t])return M[t].exports;var n=M[t]={i:t,l:!1,exports:{},hot:a(t),parents:(D=w,w=[],D),children:[]};return e[t].call(n.exports,n,n.exports,o(t)),n.l=!0,n.exports}var m=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){l(e,t),m&&m(e,t)};var h,v,b,g=!0,y="1eff4d7363fa38f5e27b",_={},j=!0,w=[],D=[],O=[],k="idle",E=0,T=0,P={},A={},x={},M={};p.m=e,p.c=M,p.i=function(e){return e},p.d=function(e,t,n){p.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="/",p.h=function(){return y},o("./src/js/music-catalog/main.js")(p.s="./src/js/music-catalog/main.js")}({"./src/js/music-catalog/lib/albums.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{artist:"Dream Theater",album:"Images and Words"},{artist:"Dream Theater",album:"Scenes From a Memory"},{artist:"Tesseract",album:"Polaris"},{artist:"Periphery",album:"Periphery"},{artist:"Circus Maximus",album:"Havoc"},{artist:"Evergrey",album:"Torn"}];t.default=r},"./src/js/music-catalog/lib/indexedDB.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dbName,n=e.dbVersion;return window.indexedDB.open(t,n)};var r=(t.clear=function(e){e.clear().onsuccess=function(){console.log("Object Store Cleared")}},t.get=function(e,t){return new Promise(function(n){e.get(t).onsuccess=function(e){n(e)}})},t.getObjectStore=function(e,t,n){return e.transaction(t,n).objectStore(t)});t.getAll=function(e,t){return new Promise(function(n){r(e,t,"readwrite").getAll().onsuccess=function(e){n(e)}})},t.getAllResolved=function(e){return new Promise(function(t){e.getAll().onsuccess=function(e){t(e)}})},t.addItem=function(e,t){e.add(t).onsuccess=function(){console.log("Added!")}},t.deleteItem=function(e,t){e.delete(parseInt(t)).onsuccess=function(){console.log("removed")}},t.updateItem=function(e,t){e.put(t).onsuccess=function(){console.log("updated")}},t.dbConnect=function(e){return function(t){return function(n){return function(){var o=r(e,t,n);return function(e,t){return e(o,t)}}}}}},"./src/js/music-catalog/lib/modal.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this.config=Object.assign({backgroundColor:"",modalTitle:"This is a modal!",modalText:"Default description text for modal.",modalContentTemplate:"",onBefore:null,onAfter:null},n),this.config.onBefore=this.config.onBefore.bind(this),this.config.onAfter=this.config.onAfter.bind(this),this.openTrigger=t,this.open()}return o(e,[{key:"open",value:function(){var e=this;this.render(),this.modalDiv=document.getElementById("my-modal"),this.myModalContent=document.querySelector(".my-modal-content"),this.modalDiv.addEventListener("click",this.close.bind(this)),this.config.onBefore&&this.config.onBefore(),this.modalDiv.classList.add("opened"),this.myModalContent.classList.add("animate-in"),setTimeout(function(){e.myModalContent.classList.remove("animate-in")},600)}},{key:"close",value:function(e){var t=this;return"close"===e.target.id&&"click"===e.type&&(this.myModalContent.classList.add("animate-out"),setTimeout(function(){t.myModalContent.classList.remove("animate-out"),t.modalDiv.classList.remove("opened"),t.containerDiv.parentNode.removeChild(t.containerDiv),t.config.onAfter&&t.config.onAfter()},600)),!1}},{key:"render",value:function(){var e=this.htmlTemplate();document.createDocumentFragment();this.containerDiv=document.createElement("div"),this.containerDiv.innerHTML=e,document.body.appendChild(this.containerDiv)}},{key:"htmlTemplate",value:function(){return'\n\t\t\t<div id="my-modal" class="my-modal" style="background-color:'+this.config.backgroundColor+'";>\n\t\t\t\t\n\t\t\t\t<div class="my-modal-content">\n\t\t\t\t\t<button id="close">X</button>\n\t\t\t\t\t<h1>'+this.config.modalTitle+"</h1>\n\t\t\t\t\t"+(this.config.modalContentTemplate?this.config.modalContentTemplate:"<p>"+this.config.modalText+"</p>")+"\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t"}}]),e}();t.default=a},"./src/js/music-catalog/lib/views.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.albumTemplate=function(e){var t="background: url("+e.image["#text"]+") no-repeat top center; background-size: cover;";return'\n\t\t<div class="album" data-id="'+e.id+'" data-album="'+e.album+'" data-artist="'+e.artist+'" style="'+t+'">\n\t\t\t<div class="album__meta">\n\t\t\t\t<h3 class="album__album">'+e.album+'</h3>\n\t\t\t\t<div class="album__artist">'+e.artist+"</div>\n\t\t\t</div>\n\t\t</div>\n\t\t"},t.listTracks=function(e){return e.map(function(e){return'\n\t\t\t<li><a href="'+e.url+'">'+e.name+"</a></li>\n\t\t"}).join("")});t.modalTemplate=function(e){return'\n\t\t<div class="album-details" data-id="'+e.id+'" data-album="'+e.album+'" data-artist="'+e.artist+'">\n\t\t\t<div class="album-details-left">\n\t\t\t\t<figure class="album-details__figure">\n\t\t\t\t\t<img src="'+e.image["#text"]+'" alt="'+e.album+'" class="album-details__image">\n\t\t\t\t</figure>\n\t\t\t\t<div class="album-details__meta">\n\t\t\t\t\t<div class="album-details__meta-left">\n\t\t\t\t\t\t<div class="album__album"><span class="album-details__meta-bold">Album: </span>'+e.album+'</div>\n\t\t\t\t\t\t<div class="album__artist"><span class="album-details__meta-bold">Artist: </span>'+e.artist+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="album-details__meta-right">\n\t\t\t\t\t\t<div class="album__playcount"><span class="album-details__meta-bold">Playcount: </span>'+e.playcount+'</div>\n\t\t\t\t\t\t<div class="album__listeners"><span class="album-details__meta-bold">Listeners: </span>'+e.listeners+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<p class="album-details__content">'+e.content+'</p>\n\t\t\t</div>\n\t\t\t<div class="album-details-right">\n\t\t\t\t<div class="album-details__tracks-container">\n\t\t\t\t\t<h3>Tracks:</h3>\n\t\t\t\t\t<ul class="album-details__tracks">\n\t\t\t\t\t\t'+r(e.tracks)+"\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t"}},"./src/js/music-catalog/main.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var n=t.target;_()(h.get,e).then(function(e){var t=e.target.result;new f.default(n,{modalTitle:"",modalContentTemplate:(0,b.modalTemplate)(t),onAfter:function(){},onBefore:function(){}})})}}function a(){document.querySelectorAll(".album").forEach(function(e){var t=e.getAttribute("data-id");e.addEventListener("click",o(t))})}function i(e){var t=e.target.result,n=t.map(b.albumTemplate).join(",");document.getElementById("albums").innerHTML=n}function c(){var e=document.querySelector(".loading");_()(h.getAllResolved).then(function(t){i(t),a(),e.classList.add("hide")})}function s(){O(D).then(function(e){e.forEach(function(e){var t=e.album;console.log(t);var n=_(),r={id:t.name,image:t.image[5],artist:t.artist,album:t.name,playcount:t.playcount,listeners:t.listeners,content:t.wiki&&t.wiki.content?t.wiki.content:"",tracks:t.tracks.track};n(h.addItem,r)}),c()})}function l(e,t){return(0,h.getAll)(e,t)}function d(){var e=(0,v.default)(j);e.onsuccess=function(){g=this.result,_=(0,h.dbConnect)(g)("albums")("readwrite"),l(g,"albums").then(function(e){0===e.target.result.length&&s(g),c(g)})},e.onupgradeneeded=function(e){y=e.currentTarget.result;y.createObjectStore(j.objectStore,{keyPath:"id"})}}var u=n("./src/js/music-catalog/lib/modal.js"),f=r(u),p=n("./src/js/music-catalog/lib/albums.js"),m=r(p),h=n("./src/js/music-catalog/lib/indexedDB.js"),v=r(h),b=n("./src/js/music-catalog/lib/views.js"),g=void 0,y=void 0,_=void 0,j={dbName:"AlbumsNew",dbVersion:1,objectStore:"albums"},w=function(e){return"http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=2537d223dfb430676c5ceb304042d647&artist="+e.artist+"&album="+e.album+"&format=json"},D=m.default.map(w),O=function(e){return Promise.all(e.map(function(e){return fetch(e).then(function(e){return e.json()})})).then(function(e){return e})};document.addEventListener("DOMContentLoaded",d)}});